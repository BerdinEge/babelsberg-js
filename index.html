<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Babelsberg/JS</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Babelsberg-js</h1>
        <p>A JavaScript/LivelyKernel implementation of Babelsberg</p>

        <p class="view"><a href="https://github.com/babelsberg/babelsberg-js">View the Project on GitHub <small>babelsberg/babelsberg-js</small></a></p>

        <ul>
          <li><a href="https://github.com/babelsberg/babelsberg-js/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/babelsberg/babelsberg-js/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/babelsberg/babelsberg-js">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
<h1><a name="babelsbergjs" class="anchor" href="#babelsbergjs"><span class="octicon octicon-link"></span></a>Babelsberg/JS</h1>

	<p><a href="https://travis-ci.org/babelsberg/babelsberg-js"><img src="https://travis-ci.org/babelsberg/babelsberg-js.png?branch=master" alt="Build Status"></a></p>

<h2><a name="overview" class="anchor" href="#overview"><span class="octicon octicon-link"></span></a>Overview</h2>

<p>Babelsberg/JS is a JavaScript implementation of the Babelsberg
family of object constraint programming languages, which augments
standard JavaScript with the ability to state constraints that should be
automatically maintained.  Here is a simple example:</p>

	
	<div class="highlight highlight-javascript"><pre><span class="nx">z3</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ServerZ3</span><span class="p">()</span>
<span class="nx">z3</span><span class="p">.</span><span class="nx">reset</span><span class="p">()</span>
<span class="nx">a</span> <span class="o">=</span> <span class="nx">lively</span><span class="p">.</span><span class="nx">morphic</span><span class="p">.</span><span class="nx">Morph</span><span class="p">.</span><span class="nx">makeRectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="nx">b</span> <span class="o">=</span> <span class="nx">lively</span><span class="p">.</span><span class="nx">morphic</span><span class="p">.</span><span class="nx">Morph</span><span class="p">.</span><span class="nx">makeCircle</span><span class="p">(</span><span class="nx">pt</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span>
<span class="nx">always</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">solver</span><span class="o">:</span> <span class="nx">z3</span>
    <span class="nx">a</span><span class="p">.</span><span class="nx">getPosition</span><span class="p">().</span><span class="nx">dist</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">getPosition</span><span class="p">())</span> <span class="o">==</span> <span class="mi">200</span>
<span class="p">}</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">getPosition</span><span class="p">()</span> <span class="c1">// lively.pt(0.5,-200.0)</span>
<span class="nx">b</span><span class="p">.</span><span class="nx">getPosition</span><span class="p">()</span> <span class="c1">// lively.pt(0.0,0.0)</span>

<span class="nx">a</span><span class="p">.</span><span class="nx">setPosition</span><span class="p">(</span><span class="nx">pt</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">getPosition</span><span class="p">()</span> <span class="c1">// lively.pt(100.0,100.0)</span>
<span class="nx">b</span><span class="p">.</span><span class="nx">getPosition</span><span class="p">()</span> <span class="c1">// lively.pt(99.9,300.0)</span>
</pre></div>
	
<p>It allows the programmer to write constraints using the 
<code>always</code> primitive that you always want to hold
using existing object-oriented abstractions. (The above example uses the
methods <code>getPosition</code> and
<code>dist</code>.)  The system will then attempt to satisfy the
constraints at the time they are asserted, and maintain them as
further statements perturb the system. The extent to which the system
is able to keep constraints satisfied depends on the solver that is
used. This implementation provides Z3, DeltaBlue, and Cassowary.</p>
	
	<p>We have used this to implement electrical simulations, a simulation of the Lively Engine,
	and some graphical layouting examples. The implementation is available to try at <a href="http://lively-web.org/users/robertkrahn/2013-10-16_first-constrained-steps.html">lively-web.org</a>.
	At any given time it may be broken, though, because the code is changing fairly often.</p>
	

<h2><a name="download" class="anchor" href="#download"><span class="octicon octicon-link"></span></a>Download</h2>

    <p>A JavaScript/LivelyKernel implementation of Babelsberg licensed under <a href="https://github.com/babelsberg/babelsberg-js/blob/master/LICENSE">3-clause BSD</a></p>
    
    <p>Download minified version of <a href="http://lively-kernel.org/babelsberg/babelsberg.mini.prototype.js">Babelsberg/JS</a>. (includes Prototype.js)</p>
    <p>If you already use <a href="http://prototypejs.org/">Prototype.js</a> you can download <a href="http://lively-kernel.org/babelsberg/babelsberg.mini.js">a smaller version</a> of Babelsberg/JS without Prototype.js.</p>
	
    <!-- <p>TODO</p>
    <p>babelsberg.min.solvers (includes all solvers)</p>
    <p>babelsberg.min.full (includes prototype.js as well as all solvers; standalone version for simple integration in browser pages)</p>
    <p>+ non-minified development versions (one file)</p>
    <p>+ solver with adapters</p>
	<p>TODO: adjust build script</p>
	-->
	
<h2><a name="examples" class="anchor" href="#examples"><span class="octicon octicon-link"></span></a>Examples</h2>

<ul>
<li><a href="http://babelsberg.github.io/babelsberg-js/examples/fabric/layout.html">fabric.js layout</a></li>
<li><a href="http://babelsberg.github.io/babelsberg-js/examples/csp/map.html">map coloring</a></li>
<li><a href="http://babelsberg.github.io/babelsberg-js/standalone/examples/weplaytanks/weplaytanks.html">We play tanks</a></li>
</ul>
<p>A page with additional examples is at <a href="http://lively-kernel.org/babelsberg/users/timfelgentreff/babelsberg-js.html">lively-kernel.org</a>.</p>
<!--
<h2><a name="gettingstarted" class="anchor" href="#gettingstarted"><span class="octicon octicon-link"></span></a>Getting Started</h2>

	<p>TODO</p>

	-->
<h2><a name="publications" class="anchor"
href="#publications"><span class="octicon
octicon-link"></span></a>Publications</h2>

<ul>

<li>Tim Felgentreff, Alan Borning, and Robert Hirschfeld,
&ldquo;<a href="http://www.jot.fm/issues/issue_2014_09/article1.pdf">Babelsberg:
Specifying and Solving Constraints on Object Behavior</a>,&rdquo;
<em>Journal of Object Technology</em> 13:4, 2014
This paper describes the general Babelsberg framework and the Ruby
implementation, but is a good starting point.</li>

<li>Tim Felgentreff, Alan Borning, Jens Lincke, Robert Hirschfeld,
Yoshiki Ohshima, Bert Freudenberg, and Robert Krahn,
&ldquo;<a href="http://www.hpi.uni-potsdam.de/hirschfeld/publications/media/FelgentreffBorningHirschfeldLinckeOhshimaFreudenbergKrahn_2014_BabelsbergJsABrowserBasedImplementationOfAnObjectConstraintLanguage_SpringerLNCS.pdf">Babelsberg/JS - A Browser-based Implementation of an Object
Constraint Language</a>,&rdquo; <em>European Conference on Object-oriented
Programming</em> (ECOOP), 2014.</li>
    
<li>Tim Felgentreff, Todd Millstein, and Alan Borning,
&ldquo;<a href="http://www.vpri.org/pdf/tr2014002_babelsberg.pdf">Developing
a Formal Semantics for Babelsberg: A Step-by-Step Approach</a>,&rdquo;
Technical Report, Viewpoints Research Institute, TR-2014-002a, 2015.
</li>

</ul>


<h2><a name="documentation" class="anchor" href="#documentation"><span class="octicon octicon-link"></span></a>Documentation</h2>

	<ul>
		<li><a href="http://babelsberg.github.io/babelsberg-js/docs/index.html">API Reference</a></li>
	</ul>
<!--
<h3><a name="apireference" class="anchor" href="#apireference"><span class="octicon octicon-link"></span></a>API Reference</h3>

	<p>short synopsis per solver</p>
	<p>babelsbergscript + differences when use short cut always; look at paper.js describtion</p>
	<p>always + options: allowUnsolvableOperations, debugging, (verbose)</p>
	<p>stay; readOnly; hard/soft constraints; execute</p>

<h3><a name="wiki" class="anchor" href="#wiki"><span class="octicon octicon-link"></span></a>Wiki</h3>
	-->
	
<h2><a name="contribute" class="anchor" href="#contribute"><span class="octicon octicon-link"></span></a>Contribute</h2>

	<!--<p>TODO</p>
	<p>E.g. by adding new solvers. State requirements for new solvers (for example by define an api for solvers as an interface that has to be supported in jsdoc). </p>
	-->
	
	<p>Report issues on the <a href="http://github.com/babelsberg/babelsberg-js/issues">issues page</a>.</p>

<h2><a name="seealso" class="anchor" href="#seealso"><span class="octicon octicon-link"></span></a>See also</h2>

    <p>Babelsberg in other languages:
    <ul>
      <li><a href="https://github.com/babelsberg/babelsberg-r">Babelsberg/R</a></li>
      <li><a href="https://github.com/babelsberg/babelsberg-s">Babelsberg/S</a></li>
      <li><a href="https://github.com/babelsberg/pybelsberg">Pybelsberg</a></li>
    </ul>
    </p>

<p>
<a href="https://github.com/timfel">timfel</a> also presented this work at the <a href="http://craft-conf.com/2014/">CRAFT</a> conference.
A video of his talk is available <a href="https://onedrive.live.com/redir?resid=FCA2914EE7038C6F!17380&amp;authkey=!AEJgnZ0och8WeE4&amp;ithint=video%2c.mp4">here</a>.
</p>

<p>
<img src="http://upload.wikimedia.org/wikipedia/de/c/c9/Hpi_logo.png"
     alt="HPI Logo" width="50" height="50"> 

Created under a grant from the <a href="http://hpi.de">Hasso Plattner
Institute</a>, with additional support
from <a href="http://sap.com">SAP</a> and
the <a href="http://cdglabs.org">Communications Design Group</a>.</p>
</section>

<footer>
        <p>This project is maintained by <a href="https://github.com/babelsberg">babelsberg</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-25791824-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
